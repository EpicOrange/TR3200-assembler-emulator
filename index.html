<!DOCTYPE HTML>
<html>
<!-- todo: 
- display flag values
- display instructions in assembly code format
-->
  <head>
  	<title>TR3200 Emulator</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <script src="util.js"></script>
    <script src="vm.js"></script>
    <script src="dump.js"></script>
    <script src="parser.js"></script>
    <script src="assembler.js"></script>
    <script src="memory-control.js"></script>
    <script src="init.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <style type="text/css">
    </style>
    <script type="text/javascript">
    </script>
  </head>
  <body onload="init()">
    <div id="container">
      <!-- for the TDA in the future -->
      <canvas id="canvas" width="640" height="480" style="display: none"></canvas>
      <h1>
        TR3200 CPU <!-- will be fancier when I get bored -->
      </h1>
      <div id="input-area">
        <textarea id="input"></textarea>
        <br>
        <span id="errorDisplay" style="display: none"></span>
        <br>
        <input type="button" id="errorOK" value="OK" style="display: none">
      </div>
      <div id="rom-controls">
        <input type="button" id="assemble" value="assemble into rom">
        <br>
        <input type="button" id="parse" value="store into rom"> as 
        <select id="format">
          <option value="hex">Hexadecimal</option>
          <option value="bin1">Binary (little-endian)</option>
          <option value="bin2">Binary (big-endian)</option>
        </select>
        <br>
        <input type="button" id="write" value="write" style="display: none">
        <input type="button" id="undo" value="undo">
      </div>
      <br>
      <div id="register-container">
        <table id="registerView" width="500px">
          <thead>
            <tr>
              <th>PC:</th>
              <th><span id="%pc"></span></th>
              <th>Execute</th>
              <th><span id="currentInstruction">N/A</span></th>
            </tr>
            <tr>
              <th colspan="4"><span id="currentInstructionText">???</span></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>%r0:</td>
              <td><span id="%r0"></span></td>
              <td>%r6:</td>
              <td><span id="%r6"></span></td>
            </tr>
            <tr>
              <td>%r1:</td>
              <td><span id="%r1"></span></td>
              <td>%r7:</td>
              <td><span id="%r7"></span></td>
            </tr>
            <tr>
              <td>%r2:</td>
              <td><span id="%r2"></span></td>
              <td>%r8:</td>
              <td><span id="%r8"></span></td>
            </tr>
            <tr>
              <td>%r3:</td>
              <td><span id="%r3"></span></td>
              <td>%r9:</td>
              <td><span id="%r9"></span></td>
            </tr>
            <tr>
              <td>%r4:</td>
              <td><span id="%r4"></span></td>
              <td>%r10:</td>
              <td><span id="%r10"></span></td>
            </tr>
            <tr>
              <td>%r5:</td>
              <td><span id="%r5"></span></td>
              <td>%y:</td>
              <td><span id="%y"></span></td>
            </tr>
            <tr>
              <td>%bp:</td>
              <td><span id="%bp"></span></td>
              <td>%sp:</td>
              <td><span id="%sp"></span></td>
            </tr>
            <tr>
              <td>%ia:</td>
              <td><span id="%ia"></span></td>
              <td>%flags:</td>
              <td><span id="%flags"></span></td>
            </tr>
          </tbody>
        </table>
        <input type="button" id="reset" value="reset">
        <input type="button" id="run" value="run">
        <input type="button" id="step" value="step">
      </div>
      <div id="memory-container">
        <table id="memoryView">
          <thead>
            <tr>
              <th>Address</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody class="memoryButtonContainer"><tr><td colspan="2">
            <input type="button" id="memoryTop" value="" class="memoryButton">
          </td></tr></tbody>
          <tbody id="memory-body">
          </tbody>
          <tbody class="memoryButtonContainer"><tr><td colspan="2">
            <input type="button" id="memoryBottom" value="" class="memoryButton">
          </td></tr></tbody>
        </table>
        <input type="button" id="jump" value="Jump to address">: 
        0x<input type="text" id="jumpValue" size="6" maxlength="6">
      </div>
    </div>
  </body>
</html>

<!-- notes to self:
  To copy all of master branch to gh-pages:
  git push origin master:gh-pages

-->