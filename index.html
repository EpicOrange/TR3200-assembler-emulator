<!DOCTYPE HTML>
<html>
  <head>
  	<title>TR3200 Emulator</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <script src="util.js"></script>
    <script src="vm.js"></script>
    <script src="dump.js"></script>
    <script src="parser.js"></script>
    <script src="assembler.js"></script>
    <script src="memory-control.js"></script>
    <script src="init.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <style type="text/css">
    </style>
    <script type="text/javascript">
    </script>
  </head>
  <body onload="init()">
    <div id="container">  
      <!-- for the TDA in the future
      <div id="canvas-container" style="display: none">
        <canvas id="canvas" width="640" height="480"></canvas>
        <br>
      </div>
       -->
      <div id="input-area">
        <textarea id="input"></textarea>
      </div>
      <div id="errorDisplay" style="display: none">
      </div>
      <div id="center-area">
        <div id="rom-controls">
          <input type="button" id="assemble" value="assemble into rom">
          <input type="button" id="write" value="write" style="display: none">
          <input type="button" id="undo" value="undo"><input type="button" id="clear" value="Clear memory">
          <br>
          <input type="button" id="parse" value="store into rom"><span> as </span> 
          <select id="format">
            <option value="hex">Hex</option>
            <option value="bin">Binary</option>
          </select>
          <select id="endianness">
            <option value="0">little-endian</option>
            <option value="1">big-endian</option>
          </select>
        </div>
        <br>
        <div id="register-container">
          <table id="registerView" width="500px">
            <thead>
              <tr>
                <th>PC:</th>
                <th id="%pc"></th>
                <th>Execute</th>
                <th id="currentInstruction">N/A</th>
              </tr>
              <tr>
                <th colspan="4" id="currentInstructionText">???</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>%r0:</td>
                <td id="%r0"></td>
                <td>%r6:</td>
                <td id="%r6"></td>
              </tr>
              <tr>
                <td>%r1:</td>
                <td id="%r1"></td>
                <td>%r7:</td>
                <td id="%r7"></td>
              </tr>
              <tr>
                <td>%r2:</td>
                <td id="%r2"></td>
                <td>%r8:</td>
                <td id="%r8"></td>
              </tr>
              <tr>
                <td>%r3:</td>
                <td id="%r3"></td>
                <td>%r9:</td>
                <td id="%r9"></td>
              </tr>
              <tr>
                <td>%r4:</td>
                <td id="%r4"></td>
                <td>%r10:</td>
                <td id="%r10"></td>
              </tr>
              <tr>
                <td>%r5:</td>
                <td id="%r5"></td>
                <td>%y:</td>
                <td id="%y"></td>
              </tr>
              <tr>
                <td>%bp:</td>
                <td id="%bp"></td>
                <td>%sp:</td>
                <td id="%sp"></td>
              </tr>
              <tr>
                <td>%ia:</td>
                <td id="%ia"></td>
                <td>%flags:</td>
                <td id="%flags"></td>
              </tr>
            </tbody>
          </table>
          <input type="button" id="reset" value="reset">
          <input type="button" id="run" value="run">
          <input type="button" id="step" value="step">
        </div>
      </div>
      <div id="memory-container">
        <table id="memoryView">
          <thead>
            <tr>
              <th>Address</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody id="memory-body">
          </tbody>
        </table>
        <input type="button" id="jump" value="Jump to address:">
        <span>0x</span><input type="text" id="jumpValue" size="6" maxlength="6">
      </div>
    </div>
  </body>
</html>